<!DOCTYPE html>
<html lang='zh-CN'>


<head>
  <meta charset="utf-8">
  <meta name="hexo-theme" content="https://github.com/xaoxuu/hexo-theme-stellar/tree/1.25.0" theme-name="Stellar" theme-version="1.25.0">
  
  <meta name="generator" content="Hexo 7.1.1">
  <meta http-equiv='x-dns-prefetch-control' content='on' />
  
  <meta name="renderer" content="webkit">
  <meta name="force-rendering" content="webkit">
  <meta http-equiv="X-UA-Compatible" content="IE=Edge,chrome=1">
  <meta name="HandheldFriendly" content="True" >
  <meta name="apple-mobile-web-app-capable" content="yes">
  <meta name="viewport" content="width=device-width, initial-scale=1, maximum-scale=1">
  <meta name="theme-color" content="#f8f8f8">
  
  <title>安全设备类环境搭建：Sophos Firewall - Misc0101</title>

  
    <meta name="description" content="安装 Sophos Firewall offers a virtual machine version, and the documentation can be found at this link. You need to register an account to download the ovf file.After downloading the compressed file, y">
<meta property="og:type" content="website">
<meta property="og:title" content="Sophos Firewall">
<meta property="og:url" content="https://misc0101.github.io/wiki/network_security_devices_env/Sophos_Firewall.html">
<meta property="og:site_name" content="Misc0101">
<meta property="og:description" content="安装 Sophos Firewall offers a virtual machine version, and the documentation can be found at this link. You need to register an account to download the ovf file.After downloading the compressed file, y">
<meta property="og:locale" content="zh_CN">
<meta property="og:image" content="https://misc0101.github.io/Typora_images/Sophos_Firewall/image-20230511114753625.png">
<meta property="og:image" content="https://misc0101.github.io/Typora_images/Sophos_Firewall/image-20230512173346050.png">
<meta property="og:image" content="https://misc0101.github.io/Typora_images/Sophos_Firewall/image-20230512175220514.png">
<meta property="og:image" content="https://misc0101.github.io/Typora_images/Sophos_Firewall/image-20230512175408256.png">
<meta property="og:image" content="https://misc0101.github.io/Typora_images/Sophos_Firewall/image-20230512175425939.png">
<meta property="article:published_time" content="2023-06-05T03:46:12.000Z">
<meta property="article:modified_time" content="2023-06-05T03:46:12.000Z">
<meta property="article:author" content="Misc0101">
<meta name="twitter:card" content="summary">
<meta name="twitter:image" content="https://misc0101.github.io/Typora_images/Sophos_Firewall/image-20230511114753625.png">
  
  
  
  

  <!-- feed -->
  

  
    
<link rel="stylesheet" href="/css/main.css">

  

  

  

  
  
</head>

<body>
  




  <div class='l_body' id='start'>
    <aside class='l_left' layout='wiki'>
    

  




<div class="widgets"><widget class="widget-wrapper logo-wrap wiki"><div class="widget-body"><a style="filter: grayscale(100%)" class="wiki-home cap" href="/wiki"><svg aria-hidden="true" viewBox="0 0 16 16" width="1.2em" height="1.2em" fill="currentColor"><path fill-rule="evenodd" d="M7.78 12.53a.75.75 0 01-1.06 0L2.47 8.28a.75.75 0 010-1.06l4.25-4.25a.75.75 0 011.06 1.06L4.81 7h7.44a.75.75 0 010 1.5H4.81l2.97 2.97a.75.75 0 010 1.06z"></path></svg>所有项目</a><a class="title" href="/wiki/network_security_devices_env/Sophos_Firewall.html"><div class="main" ff="title">安全设备类环境搭建</div></a></div></widget>
<widget class="widget-wrapper search"><div class="widget-body"><div class="search-wrapper" id="search-wrapper"><form class="search-form"><input type="text" class="search-input" id="search-input" data-filter="/wiki/network_security_devices_env/" placeholder="在/wiki/network_security_devices_env/中搜索..."><svg t="1705074644177" class="icon search-icon" viewBox="0 0 1025 1024" version="1.1" xmlns="http://www.w3.org/2000/svg" p-id="1560" width="200" height="200"><path d="M1008.839137 935.96571L792.364903 719.491476a56.783488 56.783488 0 0 0-80.152866 0 358.53545 358.53545 0 1 1 100.857314-335.166073 362.840335 362.840335 0 0 1-3.689902 170.145468 51.248635 51.248635 0 1 0 99.217358 26.444296 462.057693 462.057693 0 1 0-158.255785 242.303546l185.930047 185.725053a51.248635 51.248635 0 0 0 72.568068 0 51.248635 51.248635 0 0 0 0-72.978056z" p-id="1561"></path><path d="M616.479587 615.969233a50.428657 50.428657 0 0 0-61.498362-5.534852 174.655348 174.655348 0 0 1-177.525271 3.484907 49.403684 49.403684 0 0 0-58.833433 6.76482l-3.074918 2.869923a49.403684 49.403684 0 0 0 8.609771 78.10292 277.767601 277.767601 0 0 0 286.992355-5.739847 49.403684 49.403684 0 0 0 8.404776-76.667958z" p-id="1562"></path></svg></form><div id="search-result"></div><div class="search-no-result">没有找到内容！</div></div></div></widget>


<widget class="widget-wrapper toc multi" id="data-toc" collapse="false"><div class="widget-body fs14"><div class="doc-tree active"><a class="doc-tree-link active" href="/wiki/network_security_devices_env/Sophos_Firewall.html#start"><span class="toc-text">Sophos Firewall</span></a><ol class="toc"><li class="toc-item toc-level-2"><a class="toc-link" href="#%E5%AE%89%E8%A3%85"><span class="toc-text"> 安装</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#ssh%E6%9D%83%E9%99%90"><span class="toc-text"> ssh权限</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#shell%E5%91%BD%E4%BB%A4"><span class="toc-text"> shell命令</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#%E5%8D%87%E7%BA%A7"><span class="toc-text"> 升级</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#%E6%97%A5%E5%BF%97"><span class="toc-text"> 日志</span></a></li></ol></div><div class="doc-tree"><a class="doc-tree-link" href="/wiki/network_security_devices_env/SonicWALL_SMA%E8%AE%BE%E5%A4%87.html"><span class="toc-text">SonicWALL SMA设备</span></a></div><div class="doc-tree"><a class="doc-tree-link" href="/wiki/network_security_devices_env/Juniper_SRX%E8%AE%BE%E5%A4%87.html"><span class="toc-text">Juniper SRX设备</span></a></div><div class="doc-tree"><a class="doc-tree-link" href="/wiki/network_security_devices_env/FortiGate_VM.html"><span class="toc-text">FortiGate VM</span></a></div><div class="doc-tree"><a class="doc-tree-link" href="/wiki/network_security_devices_env/Cisco_ACS.html"><span class="toc-text">Cisco ACS</span></a></div><div class="doc-tree"><a class="doc-tree-link" href="/wiki/network_security_devices_env/Cisco_ISE.html"><span class="toc-text">Cisco ISE</span></a></div></div></widget>

<widget class="widget-wrapper related"><div class="widget-header cap theme dis-select"><span class="name">更多：环境搭建</span></div><div class="widget-body related-posts"><a class="item wiki" href="/wiki/SIEM_env_building/Arcisght.html"><span class="title">SIEM环境搭建</span><span class="excerpt">目前包含：Splunk、Arcisght Recon。</span></a><a class="item wiki" href="/wiki/linux_env/chrony%E6%97%B6%E9%97%B4%E6%9C%8D%E5%8A%A1%E5%99%A8.html"><span class="title">Linux下的环境搭建</span><span class="excerpt">目前包含：chrony时间服务器。</span></a><a class="item wiki" href="/wiki/proxy_server_building/squid%E8%AE%A4%E8%AF%81%E4%BB%A3%E7%90%86%E6%9C%8D%E5%8A%A1%E5%99%A8%E6%90%AD%E5%BB%BA.html"><span class="title">代理服务器搭建</span><span class="excerpt">目前包含：squid透明/认证代理服务器，TMG代理服务器。</span></a><a class="item wiki" href="/wiki/sql_injection_env/SQLite.html"><span class="title">SQL注入靶场环境搭建</span><span class="excerpt">目前包含：Oracle、PostgreSQL、Microsoft Access、SQLite。</span></a><a class="item wiki" href="/wiki/windows_env/%E5%9F%9F%E7%8E%AF%E5%A2%83.html"><span class="title">Windows下的环境搭建</span><span class="excerpt">目前包含：域环境(powershell方式和手动方式)，Exchange邮箱服务器(2016，2019)，IIS。</span></a></div></widget>
</div>


    </aside>
    <div class='l_main'>
      
  





      


<div class="bread-nav fs12"><div class="left"><div id="breadcrumb"><a class="cap breadcrumb" id="home" href="/">主页</a><span class="sep"></span><a class="cap breadcrumb" id="menu" href="/wiki/">项目</a><span class="sep"></span><a class="cap breadcrumb" id="proj" href="/wiki/network_security_devices_env/Sophos_Firewall.html">安全设备类环境搭建</a></div><div id="post-meta">
    <span>更新于&nbsp;<time datetime="2023-06-05T03:46:12.000Z">2023-06-05</time></span>
    </div></div></div>

<article class='md-text content wiki'>
<h1 class="article-title"><span>Sophos Firewall</span></h1>
<h2 id="安装"><a class="markdownIt-Anchor" href="#安装"></a> 安装</h2>
<p>Sophos Firewall offers a virtual machine version, and the documentation can be found at this <a target="_blank" rel="noopener" href="https://docs.sophos.com/nsg/sophos-firewall/18.0/Help/en-us/webhelp/onlinehelp/VirtualAndSoftwareAppliancesHelp/VMware/VMwareInstall/index.html">link</a>. You need to register an account to download the ovf file.After downloading the compressed file, you will find different OVF files with different names, each of them prepared for different virtual platforms.</p>
<p>Here’s a brief description of each one:</p>
<ol>
<li><code>sf_virtual.ovf</code> - This is the standard OVF file for use with VMware vSphere. It includes support for the VMware virtual hardware version 10.</li>
<li><code>sf_virtual_vm7.ovf</code> - This OVF file is for use with VMware Workstation 7 and VMware Player 3. It includes support for the VMware virtual hardware version 7.</li>
<li><code>sf_virtual_vm8.ovf</code> - This OVF file is for use with VMware Workstation 8 and later versions, including VMware Player 4 and later versions. It includes support for the VMware virtual hardware version 8.</li>
<li><code>sf_virtual_vm8_paravirtual.ovf</code> - This OVF file is for use with VMware Workstation 8 and later versions, including VMware Player 4 and later versions. It includes support for the VMware virtual hardware version 8 and includes the VMware Paravirtual SCSI controller.</li>
<li><code>sf_virtual_virtualbox.ovf</code> - This OVF file is for use with Oracle VirtualBox. It includes support for the VirtualBox virtual hardware version 4.</li>
</ol>
<p>To install the Sophos Firewall virtual appliance on VMware 16.1, you should use the <code>sf_virtual_vm8.ovf</code> file since it is compatible with VMware Workstation 8 and later versions. You can import this OVF file into VMware Workstation to create a virtual machine for the Sophos Firewall.</p>
<p><a target="_blank" rel="noopener" href="https://proxyteck.medium.com/sophos-xg-9-installation-on-vmware-15-2fd2fef49883">Installation guide</a></p>
<p>Sophos Firewall is designed to act as a gateway between different network segments, and having multiple network interfaces allows it to separate and manage traffic between these segments more efficiently. For example, you could have one interface connected to your LAN, another connected to your DMZ (demilitarized zone) network, and a third connected to the internet. This would allow Sophos Firewall to manage traffic between these segments and enforce security policies to protect your network.</p>
<hr />
<p>To skip the online update process, you can disconnect the network before opening the web page for the first time.</p>
<hr />
<p>LAN：192.168.242.242</p>
<p>WAN：192.168.147.134</p>
<p>用户：admin</p>
<p>密码：Admin@1234</p>
<p>Firewall name：Sophos_XG_Firewall</p>
<p>America/Chicago</p>
<p><a href="mailto:admin@domainname.com">admin@domainname.com</a></p>
<p>Pass@forMail123</p>
<p>Configuration summary:</p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br></pre></td><td class="code"><pre><span class="line">Basic settings</span><br><span class="line">Hostname: Sophos_XG_Firewall</span><br><span class="line">Time zone: America/Chicago</span><br><span class="line"> </span><br><span class="line">Network settings</span><br><span class="line">Internet connection: DHCP on PortB</span><br><span class="line">Local network: PortA</span><br><span class="line">IP: 192.168.242.242/255.255.255.0</span><br><span class="line">DHCP disabled</span><br><span class="line"> </span><br><span class="line">#Default_Network_Policy has been created with:</span><br><span class="line">Scan HTTP: Enable</span><br><span class="line">Use zero-day protection: Enable</span><br><span class="line">Web policy: Default Policy</span><br><span class="line">Intrusion prevention: lantowan_general</span><br><span class="line"></span><br><span class="line">Created linked NAT rule &quot;#NAT_Default_Network_Policy&quot; with source translated to MASQ.</span><br><span class="line"> </span><br><span class="line">Notifications and backups:</span><br><span class="line">Send configuration backup every week: Enable</span><br><span class="line">Built-in email server</span><br><span class="line">Recipient&#x27;s email address: admin@domainname.com</span><br><span class="line">Sender&#x27;s email address: admin@domainname.com</span><br></pre></td></tr></table></figure>
<h2 id="ssh权限"><a class="markdownIt-Anchor" href="#ssh权限"></a> ssh权限</h2>
<p>5-3，进入shell。</p>
<hr />
<p>用winscp没法传文件：</p>
<p>ssh后终端是root权限，WinSCP登录后是admin。admin还是和root不一样。我试了用WinSCP传输报错error3，permission denied。</p>
<hr />
<p>换一种方法：起http服务传</p>
<p>在工具目录用python2起一个http服务</p>
<figure class="highlight cmd"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">python -m SimpleHTTPServer <span class="number">8080</span></span><br></pre></td></tr></table></figure>
<p>然后root终端中用curl下载这个二进制文件</p>
<figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">curl 192.168.242.129:8080/demo -o demo</span><br></pre></td></tr></table></figure>
<p>没加-o的报错</p>
<figure class="highlight cmd"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line">SF01V_VM01_SFOS <span class="number">19</span>.<span class="number">5</span>.<span class="number">1</span> MR-<span class="number">1</span>-Build278# curl <span class="number">192</span>.<span class="number">168</span>.<span class="number">242</span>.<span class="number">129</span>:<span class="number">8080</span>/demo</span><br><span class="line"><span class="function">Warning: <span class="title">Binary</span> <span class="title">output</span> <span class="title">can</span> <span class="title">mess</span> <span class="title">up</span> <span class="title">your</span> <span class="title">terminal</span>. <span class="title">Use</span> &quot;--<span class="title">output</span> -&quot; <span class="title">to</span> <span class="title">tell</span></span></span><br><span class="line"><span class="function"><span class="title">Warning</span>: <span class="title">curl</span> <span class="title">to</span> <span class="title">output</span> <span class="title">it</span> <span class="title">to</span> <span class="title">your</span> <span class="title">terminal</span> <span class="title">anyway</span>, <span class="title">or</span> <span class="title">consider</span> &quot;--<span class="title">output</span></span></span><br><span class="line"><span class="function"><span class="title">Warning</span>: &lt;<span class="title">FILE</span>&gt;&quot; <span class="title">to</span> <span class="title">save</span> <span class="title">to</span> <span class="title">a</span> <span class="title">file</span>.</span></span><br></pre></td></tr></table></figure>
<p>或者wget（还没试过）</p>
<blockquote>
<p>目前已知的两个有执行权限的目录：/var/或/content/下</p>
</blockquote>
<h2 id="shell命令"><a class="markdownIt-Anchor" href="#shell命令"></a> shell命令</h2>
<p>查看权限，没有whoami命令，可以用id查看</p>
<h2 id="升级"><a class="markdownIt-Anchor" href="#升级"></a> 升级</h2>
<p>web页面，Backup&amp;firmware，有两种升级方式</p>
<p>方式一：自行上传firmware</p>
<p>方式二：从网络上下载firmware，然后install（使用VPN下载速度会快）</p>
<p>both of these options can be considered upgrades, but they serve slightly different purposes:</p>
<ol>
<li><strong>Manually Uploading Firmware and Switching Partitions</strong>: This feature allows administrators to manually download a specific firmware version from the Sophos website (or any other source), and then upload it to the firewall. This can be useful in scenarios where the firewall does not have direct internet access to download the latest firmware or when a specific firmware version is required. Switching partitions refers to the process of changing the active firmware partition. Sophos XG Firewalls generally maintain two firmware partitions - one for the active firmware and one for the auxiliary firmware. This allows a backup firmware to be stored and readily available in case there’s an issue with the active firmware.</li>
<li><strong>Latest Available Firmware</strong>: This feature is more straightforward. The firewall itself checks for the latest available firmware from Sophos, downloads it, and then installs it. This requires that the firewall has internet access. This option is generally more convenient and ensures that the firewall is always up-to-date with the latest security patches and features.</li>
</ol>
<p><img class="lazy" src="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAAEAAAABCAYAAAAfFcSJAAAABGdBTUEAALGPC/xhBQAAADhlWElmTU0AKgAAAAgAAYdpAAQAAAABAAAAGgAAAAAAAqACAAQAAAABAAAAAaADAAQAAAABAAAAAQAAAADa6r/EAAAAC0lEQVQIHWNgAAIAAAUAAY27m/MAAAAASUVORK5CYII=" data-src="/../Typora_images/Sophos_Firewall/image-20230511114753625.png" alt="image-20230511114753625" /></p>
<blockquote>
<p>参考：</p>
<p>web后台-Backup&amp;firmware</p>
<p><a target="_blank" rel="noopener" href="https://www.t-tech.com.tw/b1page-b1_25035-b1--1545.html">https://www.t-tech.com.tw/b1page-b1_25035-b1--1545.html</a></p>
<p><a target="_blank" rel="noopener" href="https://doc.sophos.com/nsg/sophos-firewall/18.5/Help/en-us/webhelp/onlinehelp/AdministratorHelp/BackupAndFirmware/Firmware/FirmwareMoveToDifferentVersion/index.html#introduction">https://doc.sophos.com/nsg/sophos-firewall/18.5/Help/en-us/webhelp/onlinehelp/AdministratorHelp/BackupAndFirmware/Firmware/FirmwareMoveToDifferentVersion/index.html#introduction</a></p>
</blockquote>
<h2 id="日志"><a class="markdownIt-Anchor" href="#日志"></a> 日志</h2>
<p>View the log：</p>
<p>LogView：Diagnostics-&gt;Tools-&gt;Log viewer</p>
<p>配置一件ACL并让日志管理器记录它：</p>
<p>Administration-Device access</p>
<p>Local service ACL exception rule</p>
<p>ADD</p>
<p>这条ACL规则为禁止来源ip为192.168.242.147来ping Sophos WALL XG</p>
<p><img class="lazy" src="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAAEAAAABCAYAAAAfFcSJAAAABGdBTUEAALGPC/xhBQAAADhlWElmTU0AKgAAAAgAAYdpAAQAAAABAAAAGgAAAAAAAqACAAQAAAABAAAAAaADAAQAAAABAAAAAQAAAADa6r/EAAAAC0lEQVQIHWNgAAIAAAUAAY27m/MAAAAASUVORK5CYII=" data-src="/../Typora_images/Sophos_Firewall/image-20230512173346050.png" alt="image-20230512173346050" />&quot;System services&quot;-“Log settings”，在这里配置记录“Local ACLs”事件</p>
<p><img class="lazy" src="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAAEAAAABCAYAAAAfFcSJAAAABGdBTUEAALGPC/xhBQAAADhlWElmTU0AKgAAAAgAAYdpAAQAAAABAAAAGgAAAAAAAqACAAQAAAABAAAAAaADAAQAAAABAAAAAQAAAADa6r/EAAAAC0lEQVQIHWNgAAIAAAUAAY27m/MAAAAASUVORK5CYII=" data-src="/../Typora_images/Sophos_Firewall/image-20230512175220514.png" alt="image-20230512175220514" /></p>
<p><img class="lazy" src="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAAEAAAABCAYAAAAfFcSJAAAABGdBTUEAALGPC/xhBQAAADhlWElmTU0AKgAAAAgAAYdpAAQAAAABAAAAGgAAAAAAAqACAAQAAAABAAAAAaADAAQAAAABAAAAAQAAAADa6r/EAAAAC0lEQVQIHWNgAAIAAAUAAY27m/MAAAAASUVORK5CYII=" data-src="/../Typora_images/Sophos_Firewall/image-20230512175408256.png" alt="image-20230512175408256" /></p>
<p><img class="lazy" src="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAAEAAAABCAYAAAAfFcSJAAAABGdBTUEAALGPC/xhBQAAADhlWElmTU0AKgAAAAgAAYdpAAQAAAABAAAAGgAAAAAAAqACAAQAAAABAAAAAaADAAQAAAABAAAAAQAAAADa6r/EAAAAC0lEQVQIHWNgAAIAAAUAAY27m/MAAAAASUVORK5CYII=" data-src="/../Typora_images/Sophos_Firewall/image-20230512175425939.png" alt="image-20230512175425939" /></p>



<div class="article-footer reveal fs14"></div>

</article>

<div class="related-wrap reveal" id="read-next"><section class="body"><div class="item" id="prev"></div><div class="item" id="next"><div class="note">接下来阅读</div><a href="/wiki/network_security_devices_env/SonicWALL_SMA%E8%AE%BE%E5%A4%87.html">SonicWALL SMA设备</a></div></section></div>




      
<footer class="page-footer reveal fs12"><hr><div class="sitemap"><div class="sitemap-group"><span class="fs14">博客</span><a href="/">近期发布</a><a href="/categories/">分类</a><a href="/tags/">标签</a><a href="/archives/">归档</a></div><div class="sitemap-group"><span class="fs14">wiki</span><a href="/wiki/tags/%E8%AE%A1%E7%AE%97%E6%9C%BA%E5%9F%BA%E7%A1%80/">计算机基础</a><a href="/wiki/tags/%E5%AE%89%E5%85%A8%E6%8A%80%E6%9C%AF/">安全技术</a><a href="/wiki/tags/%E7%8E%AF%E5%A2%83%E6%90%AD%E5%BB%BA/">环境搭建</a><a href="/wiki/tags/%E5%85%B6%E4%BB%96/">其他</a></div><div class="sitemap-group"><span class="fs14">关于</span><a href="/about/">关于</a></div></div><div class="text"><p>本站由 <a href="/">Misc0101</a> 使用 <a target="_blank" rel="noopener" href="https://github.com/xaoxuu/hexo-theme-stellar/tree/1.25.0">Stellar 1.25.0</a> 主题创建。<br />
本博客所有文章除特别声明外，均采用 <a target="_blank" rel="noopener" href="https://creativecommons.org/licenses/by-nc-sa/4.0/">CC BY-NC-SA 4.0</a> 许可协议，转载请注明出处。</p>
</div></footer>

      <div class='float-panel mobile-only blur' style='display:none'>
  <button type='button' class='sidebar-toggle mobile' onclick='sidebar.toggle()'>
    <svg class="icon" style="width: 1em; height: 1em;vertical-align: middle;fill: currentColor;overflow: hidden;" viewBox="0 0 1024 1024" version="1.1" xmlns="http://www.w3.org/2000/svg" p-id="15301"><path d="M566.407 808.3c26.9-0.1 49.3-20.8 51.6-47.6-1.9-27.7-23.9-49.7-51.6-51.6h-412.6c-28.2-1.4-52.6 19.5-55.5 47.6 2.3 26.8 24.6 47.5 51.6 47.6h416.5v4z m309.3-249.9c26.9-0.1 49.3-20.8 51.6-47.6-2.2-26.8-24.6-47.5-51.6-47.6h-721.9c-27.7-2.8-52.5 17.4-55.3 45.1-0.1 0.8-0.1 1.7-0.2 2.5 0.9 27.2 23.6 48.5 50.7 47.6H875.707z m-103.1-245.9c26.9-0.1 49.3-20.8 51.6-47.6-0.4-28.3-23.2-51.1-51.5-51.6h-618.9c-29.5-1.1-54.3 21.9-55.5 51.4v0.2c1.4 27.8 25.2 49.2 53 47.8 0.8 0 1.7-0.1 2.5-0.2h618.8z" p-id="15302"></path><path d="M566.407 808.3c26.9-0.1 49.3-20.8 51.6-47.6-1.9-27.7-23.9-49.7-51.6-51.6h-412.6c-28.2-1.4-52.6 19.5-55.5 47.6 1.9 27.7 23.9 49.7 51.6 51.6h416.5z m309.3-249.9c26.9-0.1 49.3-20.8 51.6-47.6-2.2-26.8-24.6-47.5-51.6-47.6h-721.9c-27.7-2.8-52.5 17.4-55.3 45.1-0.1 0.8-0.1 1.7-0.2 2.5 0.9 27.2 23.6 48.5 50.7 47.6H875.707z m-103.1-245.9c26.9-0.1 49.3-20.8 51.6-47.6-0.4-28.3-23.2-51.1-51.5-51.6h-618.9c-29.5-1.1-54.3 21.9-55.5 51.4v0.2c1.4 27.8 25.2 49.2 53 47.8 0.8 0 1.7-0.1 2.5-0.2h618.8z" p-id="15303"></path></svg>
  </button>
</div>

    </div>
  </div>
  <div class='scripts'>
    
<script type="text/javascript">
  const stellar = {
    // 懒加载 css https://github.com/filamentgroup/loadCSS
    loadCSS: (href, before, media, attributes) => {
      var doc = window.document;
      var ss = doc.createElement("link");
      var ref;
      if (before) {
        ref = before;
      } else {
        var refs = (doc.body || doc.getElementsByTagName("head")[0]).childNodes;
        ref = refs[refs.length - 1];
      }
      var sheets = doc.styleSheets;
      if (attributes) {
        for (var attributeName in attributes) {
          if (attributes.hasOwnProperty(attributeName)) {
            ss.setAttribute(attributeName, attributes[attributeName]);
          }
        }
      }
      ss.rel = "stylesheet";
      ss.href = href;
      ss.media = "only x";
      function ready(cb) {
        if (doc.body) {
          return cb();
        }
        setTimeout(function () {
          ready(cb);
        });
      }
      ready(function () {
        ref.parentNode.insertBefore(ss, before ? ref : ref.nextSibling);
      });
      var onloadcssdefined = function (cb) {
        var resolvedHref = ss.href;
        var i = sheets.length;
        while (i--) {
          if (sheets[i].href === resolvedHref) {
            return cb();
          }
        }
        setTimeout(function () {
          onloadcssdefined(cb);
        });
      };
      function loadCB() {
        if (ss.addEventListener) {
          ss.removeEventListener("load", loadCB);
        }
        ss.media = media || "all";
      }
      if (ss.addEventListener) {
        ss.addEventListener("load", loadCB);
      }
      ss.onloadcssdefined = onloadcssdefined;
      onloadcssdefined(loadCB);
      return ss;
    },

    // 从 butterfly 和 volantis 获得灵感
    loadScript: (src, opt) => new Promise((resolve, reject) => {
      var script = document.createElement('script');
      if (src.startsWith('/')){
        src = stellar.config.root + src.substring(1);
      }
      script.src = src;
      if (opt) {
        for (let key of Object.keys(opt)) {
          script[key] = opt[key]
        }
      } else {
        // 默认异步，如果需要同步，第二个参数传入 {} 即可
        script.async = true
      }
      script.onerror = reject
      script.onload = script.onreadystatechange = function() {
        const loadState = this.readyState
        if (loadState && loadState !== 'loaded' && loadState !== 'complete') return
        script.onload = script.onreadystatechange = null
        resolve()
      }
      document.head.appendChild(script)
    }),

    // https://github.com/jerryc127/hexo-theme-butterfly
    jQuery: (fn) => {
      if (typeof jQuery === 'undefined') {
        stellar.loadScript(stellar.plugins.jQuery).then(fn)
      } else {
        fn()
      }
    }
  };
  stellar.version = '1.25.0';
  stellar.github = 'https://github.com/xaoxuu/hexo-theme-stellar/tree/1.25.0';
  stellar.config = {
    date_suffix: {
      just: '刚刚',
      min: '分钟前',
      hour: '小时前',
      day: '天前',
      month: '个月前',
    },
    root : '/',
  };

  // required plugins (only load if needs)
  stellar.plugins = {
    jQuery: 'https://gcore.jsdelivr.net/npm/jquery@3.6.2/dist/jquery.min.js'
  };

  if ('local_search') {
    stellar.search = {};
    stellar.search.service = 'local_search';
    if (stellar.search.service == 'local_search') {
      let service_obj = Object.assign({}, {"field":"all","path":"/search.json","content":true,"sort":"-date"});
      stellar.search[stellar.search.service] = service_obj;
    }
  }

  // stellar js
  stellar.plugins.stellar = Object.assign({"sites":"/js/plugins/sites.js","friends":"/js/plugins/friends.js","ghinfo":"/js/plugins/ghinfo.js","timeline":"/js/plugins/timeline.js","linkcard":"/js/plugins/linkcard.js","fcircle":"/js/plugins/fcircle.js","weibo":"/js/plugins/weibo.js","memos":"/js/plugins/memos.js","marked":"/js/plugins/marked.js"});

  stellar.plugins.marked = Object.assign("https://cdn.bootcdn.net/ajax/libs/marked/4.0.18/marked.min.js");
  // optional plugins
  if ('true' == 'true') {
    stellar.plugins.lazyload = Object.assign({"enable":true,"js":"https://gcore.jsdelivr.net/npm/vanilla-lazyload@17.8.3/dist/lazyload.min.js","transition":"blur"});
  }
  if ('true' == 'true') {
    stellar.plugins.swiper = Object.assign({"enable":true,"css":"https://unpkg.com/swiper@10.3/swiper-bundle.min.css","js":"https://unpkg.com/swiper@10.3/swiper-bundle.min.js"});
  }
  if ('' == 'true') {
    stellar.plugins.scrollreveal = Object.assign({"enable":null,"js":"https://gcore.jsdelivr.net/npm/scrollreveal@4.0.9/dist/scrollreveal.min.js","distance":"8px","duration":500,"interval":100,"scale":1});
  }
  if ('true' == 'true') {
    stellar.plugins.preload = Object.assign({"enable":true,"service":"flying_pages","instant_page":"https://gcore.jsdelivr.net/gh/volantis-x/cdn-volantis@4.1.2/js/instant_page.js","flying_pages":"https://gcore.jsdelivr.net/gh/gijo-varghese/flying-pages@2.1.2/flying-pages.min.js"});
  }
  if ('true' == 'true') {
    stellar.plugins.fancybox = Object.assign({"enable":true,"js":"https://gcore.jsdelivr.net/npm/@fancyapps/ui@4.0/dist/fancybox.umd.js","css":"https://gcore.jsdelivr.net/npm/@fancyapps/ui@4.0/dist/fancybox.css","selector":".fancybox img"});
  }
  if ('false' == 'true') {
    stellar.plugins.heti = Object.assign({"enable":false,"css":"https://unpkg.com/heti@0.9.2/umd/heti.min.css","js":"https://unpkg.com/heti@0.9.2/umd/heti-addon.min.js"});
  }
  if ('true' == 'true') {
    stellar.plugins.copycode = Object.assign({"enable":true,"js":"/js/plugins/copycode.js","default_text":"Copy","success_text":"Copied","toast":"复制成功"});
  }
</script>

<!-- required -->

  
<script src="/js/main.js" async></script>



<!-- optional -->






<!-- inject -->


  </div>
</body>
</html>
